<% months = %w[Enero Febrero Marzo Abril Mayo Junio Julio Agosto Septiembre Octubre Noviembre Diciembre] %>

<div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 my-8">

  <div class="flex items-center justify-between mb-6">
    <%= link_to "Volver atrás",
                convenios_path,
                class: "inline-flex items-center px-4 py-2 border border-transparent text-base leading-6 font-medium rounded-md text-blue-400 bg-gray-800 hover:bg-blue-800 hover:text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition duration-150 ease-in-out" %>

    <div class="flex items-center gap-2">
      <%= link_to "Modificar",
                  edit_convenio_path(@convenio),
                  class: "px-3 py-1 bg-yellow-600 hover:bg-yellow-700 text-gray-900 font-bold rounded-md" %>

      <%= link_to "Eliminar",
                  convenio_path(@convenio),
                  class: "px-3 py-1 rounded bg-red-600 text-gray-900 font-bold hover:bg-red-700 transition duration-300",
                  data: {
                    controller: "delete-confirmation",
                    action: "click->delete-confirmation#deleteItem",
                    delete_confirmation_redirect_url_value: "/convenios"
                  } %>
    </div>


  </div>


  <div class="bg-gray-900 p-6 rounded-lg shadow-md text-gray-200 space-y-6">

    <h1 class="text-2xl font-bold">
      Detalle Convenio <%= "#{months[@convenio.month - 1]} #{@convenio.year}" %>
    </h1>

    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">

      <div class="bg-gray-800 rounded-md p-4 sm:col-span-2">
        <h2 class="text-sm uppercase tracking-wide text-gray-400">Empresa</h2>
        <p class="text-xl font-semibold"><%= @empresa_nombre %></p>
      </div>

      <div class="bg-gray-800 rounded-md p-4">
        <h2 class="text-sm uppercase tracking-wide text-gray-400">Fecha de Venta</h2>
        <p class="text-xl font-semibold">
          <%= format_date(@convenio.fecha_venta) %>
        </p>
      </div>


      <div class="bg-gray-800 rounded-md p-4">
        <h2 class="text-sm uppercase tracking-wide text-gray-400">
          Número de servicios
        </h2>
        <p class="text-xl font-semibold"><%= @convenio.n1 %></p>
      </div>

      <div class="bg-gray-800 rounded-md p-4">
        <h2 class="text-sm uppercase tracking-wide text-gray-400">Valor total (UF)</h2>
        <p class="text-xl font-semibold">
          <%= number_with_precision(@v1_uf, precision: 2) %>
          <% if @v1_clp %>
            <span class="block text-sm text-gray-400">
              ≈ <%= number_to_currency(@v1_clp, unit: "$", precision: 0, delimiter: ".") %> CLP
            </span>
          <% end %>
        </p>
      </div>



    </div>
  </div>
</div>
